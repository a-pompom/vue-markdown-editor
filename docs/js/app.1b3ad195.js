(function(e){function t(t){for(var n,i,d=t[0],s=t[1],l=t[2],c=0,m=[];c<d.length;c++)i=d[c],a[i]&&m.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,d=1;d<r.length;d++){var s=r[d];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var u=s;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0119":function(e,t,r){},"37fc":function(e,t,r){"use strict";var n=r("0119"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[e._m(0),r("div",{staticClass:"app__area"},[r("app-mark-down-area",{attrs:{markdownText:e.markdownText,markdownTitle:e.markdownTitle,markdownTag:e.markdownTag},on:{titleChanged:e.changeTitle,tagChanged:e.changeTag,bodyChanged:e.changeMarkdownBody,bodyTabPressed:e.setTab}}),r("app-preview-area",{attrs:{markupTitle:e.markupTitle,markupTagArray:e.markupTagArray,markupTextArray:e.markupTextArray}})],1),r("div",{staticClass:"app__footer"},[r("a",{staticClass:"button--save",attrs:{href:e.dlURL,download:"article.html"}},[e._v("書き出し")])]),r("app-mark-down-converter",{attrs:{markdownText:e.markdownText},on:{converted:e.getConvertedText}}),r("app-markup-writer",{attrs:{markupTextArray:e.markupTextArray},on:{dlURLCreated:e.setDLURL}})],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app__header"},[r("h2",[e._v("Markdown Editor")]),r("hr")])}],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"markdownArea"},[r("div",{staticClass:"markdownArea__title"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.markdownTitleTextArea,expression:"markdownTitleTextArea"}],staticClass:"markdownArea__title__text",attrs:{id:"markdownTitle",placeholder:"title"},domProps:{value:e.markdownTitleTextArea},on:{input:function(t){t.target.composing||(e.markdownTitleTextArea=t.target.value)}}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.markdownTitleTag,expression:"markdownTitleTag"}],staticClass:"markdownArea__title__tag",attrs:{id:"markdownTag",placeholder:"tag"},domProps:{value:e.markdownTitleTag},on:{input:function(t){t.target.composing||(e.markdownTitleTag=t.target.value)}}})]),r("div",{staticClass:"markdownArea__body"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.markdownBodyText,expression:"markdownBodyText"}],ref:"md_input",staticClass:"markdownArea__body__text",attrs:{id:"markdownBody"},domProps:{value:e.markdownBodyText},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.tabPressed(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterPressed(t)}],input:function(t){t.target.composing||(e.markdownBodyText=t.target.value)}}})])])},d=[],s={props:{markdownTitle:String,markdownTag:String,markdownText:String},computed:{markdownTitleTextArea:{get:function(){return this.markdownTitle},set:function(e){this.$emit("titleChanged",e)}},markdownTitleTag:{get:function(){return this.markdownTag},set:function(e){this.$emit("tagChanged",e)}},markdownBodyText:{get(){return this.markdownText},set(){}}},methods:{tabPressed:function(){this.$emit("bodyTabPressed",this.$refs.md_input.value)},enterPressed:function(){this.$emit("bodyChanged",this.$refs.md_input.value)}}},l=s,u=(r("bc24"),r("2877")),c=Object(u["a"])(l,i,d,!1,null,null,null),m=c.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"previewArea"},[r("div",{staticClass:"previewArea__title"},[r("h2",{staticClass:"previewArea__title__text"},[e._v(e._s(e.markupTitle))]),r("h3",{staticClass:"previewArea__title__date"},[e._v(e._s(e.currentDate))]),r("h4",{staticClass:"previewArea__title__tag"},[e._v(e._s(e.markupTag))])]),r("div",{staticClass:"previewArea__body"},[r("div",{domProps:{innerHTML:e._s(e.markupText)}})])])},T=[],h={props:{markupTitle:String,markupTagArray:Array,markupTextArray:Array},data:function(){return{markupTag:"",markupText:""}},computed:{currentDate(){let e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return n+"-"+r+"-"+t}},watch:{markupTagArray:{handler:function(e,t){this.createTagForPreview()},deep:!0},markupTextArray:{handler:function(e,t){this.createHTMLForPreview()},deep:!0}},methods:{createTagForPreview(){this.markupTag="",this.markupTagArray.forEach((e,t)=>{let r=t===this.markupTagArray.length-1?"":" ,";this.markupTag+=e+r})},createHTMLForPreview:function(){this.markupText="",this.markupTextArray.forEach(e=>{this.markupText+=e})}},updated(){document.querySelectorAll("pre code").forEach(e=>{hljs.highlightBlock(e)})}},k=h,v=(r("37fc"),Object(u["a"])(k,p,T,!1,null,null,null)),f=v.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},w=[];function y(e){return null===e||(""===e||""===e.replace(" ",""))}function g(e){return e.slice(0,1)}function x(e,t,r){return e.slice(0,t)+r+e.slice(t)}function A(e,t,r,n,a){let o="";return o+="<"+t,o+=a?" "+a+" ":"",o+=n?' class="'+n+'">':">",o+=e,o+=r?"</"+t+">":"",o}function b(e){return e.substring(0,e.indexOf(" "))}function C(e,t,r,n){t=n?"\\"+t:t,r=n?"\\"+r:r;let a=new RegExp("(?<="+t+").*?(?="+r+")","g");return e.match(a)[0]}function M(e,t){let r=e.indexOf(" ")+1;return e.substring(r)}function S(e,t){return e===t}function E(e){let t="";switch(e){case"ul":t="</ul>";break;case"ol":t="</ol>";break;default:break}return t}const L={MAX_ATTRIBUTE:6,MAX_MAIN_HEADING:2},P={ACCEPT_SYMBOL_PATTERN:["*","-","+"],ACCEPT_OL_REGEXP:/^[0-9]+[¥.]$/g},O={ACCEPT_SYMBOL_PATTERN:[">"]},B={SYMBOL_COUNT:3,ACCEPT_SYMBOL_PATTERN:["---","***","___"]},R={SYMBOL_COUNT:3,ACCEPT_SYMBOL_PATTERN:["```"]},H={ACCEPT_REGEXP:/\[.*?\]\(.*?\)/g};var N={props:{markdownText:String},data(){return{markdownTextArray:[],convertedHTMLTextArray:[],codeBlockMode:!1,mdSymbol:"",renderMode:{mode:"",symbol:""},converterList:[{convertFunc:this.convertHeading,useHeadSymbol:!0},{convertFunc:this.convertList,useHeadSymbol:!0},{convertFunc:this.convertQuote,useHeadSymbol:!0},{convertFunc:this.convertHorizontalLine,useHeadSymbol:!1},{convertFunc:this.convertCodeSnippet,useHeadSymbol:!1},{convertFunc:this.convertLink,useHeadSymbol:!1}]}},watch:{markdownText(){this.markdownTextArray=this.markdownText.split(/\r\n|\r|\n/),this.convertedHTMLTextArray=[],this.codeBlockMode=!1,this.markdownTextArray.forEach(e=>{this.markdownConvertToHTML(e)}),this.$emit("converted",this.convertedHTMLTextArray)}},methods:{markdownConvertToHTML(e){return this.mdSymbol=b(e),y(this.renderMode.symbol)||S(this.renderMode.symbol,this.mdSymbol)||(e=x(e,0,E(this.renderMode.mode)),this.renderMode.mode="",this.renderMode.symbol=""),this.codeBlockMode?(e=this.convertCodeSnippet(e),e+="<br>",void this.convertedHTMLTextArray.push(e)):y(e)?(e="<br>",void this.convertedHTMLTextArray.push(e)):(this.converterList.forEach(t=>{t.useHeadSymbol&&y(this.mdSymbol)||(e=t.convertFunc(e))}),this.codeBlockMode||"<"===g(e)||(e=A(e,"p",!0,"")),void this.convertedHTMLTextArray.push(e))},convertHeading(e){if(this.mdSymbol.includes("#")){let t=this.mdSymbol.split("#").length-1,r="";t<=L.MAX_MAIN_HEADING&&(r+="main-text"),t<=L.MAX_ATTRIBUTE&&(e=M(e,this.mdSymbol),e=A(e,"h"+t,!0,r))}return e},convertList(e){let t=P.ACCEPT_OL_REGEXP.test(this.mdSymbol),r=P.ACCEPT_SYMBOL_PATTERN.indexOf(this.mdSymbol)>=0;if(t||r){if(y(this.renderMode.symbol)){let r=t?"ol":"ul";return this.renderMode.mode=r,this.renderMode.symbol=this.mdSymbol,e=M(e,this.mdSymbol),e=A(e,"li",!0,""),e=A(e,r,!1,""),e}return e=M(e,this.mdSymbol),e=A(e,"li",!0,""),e}return e},convertQuote(e){return O.ACCEPT_SYMBOL_PATTERN.indexOf(this.mdSymbol)>=0?(e=M(e,this.mdSymbol),e=A(e,"p",!0,"quote"),this.renderMode.mode="quote",this.renderMode.symbol=this.mdSymbol,e):e},convertHorizontalLine(e){return e.length!==B.SYMBOL_COUNT?e:(B.ACCEPT_SYMBOL_PATTERN.indexOf(e)>=0&&(e="<hr>"),e)},convertCodeSnippet(e){return R.ACCEPT_SYMBOL_PATTERN.indexOf(e)>=0?this.codeBlockMode?(e="</code></pre>",this.codeBlockMode=!1,e):(e="<pre><code>",this.codeBlockMode=!0,e):e},convertLink(e){if(H.ACCEPT_REGEXP.test(e)){let t=e.match(H.ACCEPT_REGEXP)[0],r="",n=C(t,"[","]",!0),a=C(t,"(",")",!0),o='href="'+a+'"';return r=A(n,"a",!0,"",o),e=e.replace(t,r),e}return e}}},U=N,$=Object(u["a"])(U,_,w,!1,null,null,null),j=$.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},F=[],Y={props:{markupTextArray:Array},data(){return{markupText:""}},watch:{markupTextArray:{handler:function(e,t){this.createDLLink()},deep:!0}},methods:{createDLLink(){this.markupText="",this.markupTextArray.forEach(e=>{this.markupText+=e,this.markupText+="\n"});let e=new Blob([this.markupText],{type:"text/html"});window.URL=window.URL||window.webkitURL,this.$emit("dlURLCreated",window.URL.createObjectURL(e))}}},X=Y,G=Object(u["a"])(X,D,F,!1,null,null,null),I=G.exports,q={data:function(){return{markdownTitle:"",markdownTag:"",markdownText:"",markupTitle:"title",markupTagArray:[],markupTextArray:[],dlURL:""}},components:{appMarkDownArea:m,appPreviewArea:f,appMarkDownConverter:j,appMarkupWriter:I},methods:{changeTitle(e){this.markupTitle=e,this.markdownTitle=e},changeTag(e){this.markupTagArray=e.split(","),this.markdownTag=e},changeMarkdownBody:function(e){this.markdownText=e},setTab:function(e){this.markdownText=e+"    "},getConvertedText:function(e){this.markupTextArray=e},setDLURL(e){this.dlURL=e}}},z=q,J=(r("5c0b"),Object(u["a"])(z,a,o,!1,null,null,null)),Q=J.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(Q)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),a=r.n(n);a.a},"5e27":function(e,t,r){},"67d1":function(e,t,r){},bc24:function(e,t,r){"use strict";var n=r("67d1"),a=r.n(n);a.a}});
//# sourceMappingURL=app.1b3ad195.js.map